{
    "description": "Stores a user by passing username and fullname in the body generating id for that user. e.g. Request Body: username=storageUser&fullname=Storage User",
    "request": {
        "method": "POST",
        "path": "/storage-users"
    },
    "persist": {
        "entity": "/storage-users/user-{{ storage.SetValue({{ request.body.username\\=(?P<value>.+?)(?:&|$) }}, {{ storage.Sequence(storage-users, 1) }}) }}.json",
        "actions" : {
            "write" : "{\"id\": {{ persist.entity.name./storage-users/user\\-(?P<value>\\d+)\\.json }}, \"username\": \"{{ request.body.username\\=(?P<value>.+?)(?:&|$) }}\", \"fullname\":\"{{ request.body.fullname\\=(?P<value>.+?)(?:&|$) }}\"}"
        }
    },
    "response": {
        "statusCode": 202,
        "headers": {
            "Content-Type": [
                "application/json"
            ]
        },
        "body":"{{ persist.entity.content }}"
    }
}